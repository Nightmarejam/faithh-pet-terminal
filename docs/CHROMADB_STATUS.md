# ChromaDB Status Report
**Last Updated:** 2025-11-14 14:57:10

## Connection Status: âœ… OPERATIONAL

**Host:** localhost  
**Port:** 8000  
**Client Type:** HttpClient  

## Collection: documents_768

**Embedding Model:** all-mpnet-base-v2 (768 dimensions)  
**Total Documents:** 91,604  

### Document Breakdown

| Category | Count | Description |
|----------|-------|-------------|
| Original Docs | 91,302 | Initial document set |
| Recent Docs | 118 | FAITHH documentation (Nov 2025) |
| Full Conversations | 39 | Claude chat exports (whole) |
| Conversation Chunks | 145 | Claude chats (semantic chunks) |

### Recent Indexing Activity

1. **2025-11-14 12:30** - Added 118 recent documentation files
2. **2025-11-14 13:15** - Indexed 39 full Claude conversations  
3. **2025-11-14 14:00** - Created 145 conversation chunks

## Current Configuration

Located in: `~/ai-stack/faithh_professional_backend_fixed.py`

```python
# Lines 47-48
client = chromadb.HttpClient(host="localhost", port=8000)
embedding_func = SentenceTransformerEmbeddingFunction(
    model_name="all-mpnet-base-v2"
)
collection = client.get_collection(
    name="documents_768",
    embedding_function=embedding_func
)
```

## Performance Metrics

- **Query Speed:** ~200-500ms per search
- **Embedding Speed:** ~50-100 docs/second
- **Storage:** ~2.5GB on disk

## Known Issues

1. **Retrieval Priority:** Old documents (91K) sometimes outrank recent conversation chunks
   - **Fix:** Implement smart metadata filtering in backend
   - **Status:** Patch created at docs/patches/backend_rag_optimizer.py

2. **No Auto-Indexing:** New FAITHH conversations not automatically added
   - **Fix:** Implement session logging + auto-indexer
   - **Status:** Plan created at docs/plans/AUTO_INDEXING_PLAN.md

## Monitoring Commands

```bash
# Check ChromaDB health
curl http://localhost:8000/api/v1/heartbeat

# Count documents
python3 << EOF
import chromadb
client = chromadb.HttpClient(host="localhost", port=8000)
collection = client.get_collection(name="documents_768")
print(f"Total documents: {collection.count()}")
EOF

# Test search
curl -X POST http://localhost:5557/api/rag_search \
  -H "Content-Type: application/json" \
  -d '{"query": "FAITHH backend", "n_results": 5}'
```

---
*Auto-generated by FAITHH system monitor*
